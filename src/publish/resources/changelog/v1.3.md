# Version 1.3.0

Run ```php artisan just:update``` to update to the newest version

## Whats new

- fix icons in menu settings according to font-awesome 5
- fix directories permission on new theme creating
- prohibit admins to create relative blocks. This option is open for masters only.
Admins still can access and edit existing related blocks.
- remove layout type. Block width is always available now.
- Add general rules for image cropping in Articles. Rules are the same as for Gallery
- customize URL for block items. Route base can be specified in the Block Settings
- add slugs to Articles
- fix bug with updating addon
- Block item `$neeededParameters` property now represents a list of obligatory parameters.
This list does not update Setup Block form any more
- Split block parameters for admin and master. Parameter `super_parameters` (saved by master) has priority and 
overrides admin's `parameters`.
- Rebuild Contact block structure. List of needed contacts can be chosen in the Block Settings, also
custom contact channels may be added.
- update `lubart/form` to the last version
    
## Upgrade from previous versions

In `contacts.blade.php` file method `field()` should be replaced by `contacts()`. Structure of the 
returned array was changed, check `{{ dd($office->contacts()) }}` output and adapt your blade template.

## Changes in the database structure

- Drop `type` column from the `layouts` table.
- Create `events` and `registrations` tables for Events block.
- add `slug` column to the `articles` table and adapt its value
- add `super_parameters` column to the `blocks` table. Column saves information about parameters added by 
master. This set of parameters overrides parameters from the `parameters` column added by admin.
- Rebuild `contacts` table: all contact columns are replaced by single `channels` column. It contains info
about all contacts and its values in json format.